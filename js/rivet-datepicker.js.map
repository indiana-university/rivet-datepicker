{"version":3,"file":"rivet-datepicker.js","sources":["../../node_modules/pikaday/pikaday.js","../../src/js/rivet-datepicker.js"],"sourcesContent":["/*!\n * Pikaday\n *\n * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // data-attribute on the input field with an aria assistance tekst (only applied when `bound` is set)\n        ariaLabel: 'Use the arrow keys to pick a date',\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null,\n\n        // Enable keyboard input\n        keyboardInput: true\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n\n        if (opts.keyboardInput) {\n            addEvent(document, 'keydown', self._onKeyChange);\n        }\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', opts.ariaLabel);\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n            leftAligned = true;\n            bottomAligned = true;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n                leftAligned = false;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n                bottomAligned = false;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n\n            addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');\n            addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');\n            removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');\n            removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            var opts = this._o;\n\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            if (opts.keyboardInput) {\n                removeEvent(document, 'keydown', this._onKeyChange);\n            }\n            if (opts.field) {\n                removeEvent(opts.field, 'change', this._onInputChange);\n                if (opts.bound) {\n                    removeEvent(opts.trigger, 'click', this._onInputClick);\n                    removeEvent(opts.trigger, 'focus', this._onInputFocus);\n                    removeEvent(opts.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n}));\n","/*!\n * Copyright (C) 2019 The Trustees of Indiana University\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport Pikaday from 'pikaday';\n\nexport default function RivetDatepicker(options) {\n  // Default options\n  const defaults = {\n    theme: 'rivet-theme',\n    blurFieldOnSelect: false,\n    ariaLabel: 'Use the arrow keys to select a day or press the escape key to close the datepicker'\n  };\n  \n  // Merge defaults with user options if they exist\n  const settings = Object.assign({}, defaults, options);\n\n  // Create a new Pikaday instance\n  this.picker = new Pikaday(settings);\n}"],"names":["root","factory","moment","require","e","this","hasMoment","hasEventListeners","window","addEventListener","document","sto","setTimeout","addEvent","el","callback","capture","attachEvent","removeEvent","removeEventListener","detachEvent","trim","str","replace","hasClass","cn","className","indexOf","addClass","removeClass","isArray","obj","test","Object","prototype","toString","call","isDate","isNaN","getTime","isWeekend","date","day","getDay","isLeapYear","year","getDaysInMonth","month","setToStartOfDay","setHours","compareDates","a","b","extend","to","from","overwrite","prop","hasProp","undefined","nodeName","Date","slice","fireEvent","eventName","data","ev","createEvent","initEvent","dispatchEvent","createEventObject","adjustCalendar","calendar","Math","ceil","abs","floor","opts","abbr","firstDay","i18n","weekdaysShort","weekdays","renderDay","arr","ariaSelected","isEmpty","showDaysInNextAndPreviousMonths","push","enableSelectionDaysInNextAndPreviousMonths","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","join","renderWeek","d","m","y","onejan","weekNum","renderRow","days","isRTL","pickWholeWeek","isRowSelected","reverse","renderBody","rows","renderHead","i","showWeekNumber","renderDayName","renderTitle","instance","c","refYear","randId","j","_o","isMinYear","minYear","isMaxYear","maxYear","html","monthHtml","yearHtml","prev","next","minMonth","maxMonth","months","yearRange","yearSuffix","showMonthAfterYear","previousMonth","numberOfMonths","nextMonth","renderTable","options","self","config","_onMouseDown","_v","event","target","srcElement","parentNode","setDate","getAttribute","bound","hide","blurFieldOnSelect","field","blur","prevMonth","preventDefault","returnValue","_c","_onChange","gotoMonth","value","gotoYear","_onKeyChange","isVisible","keyCode","adjustDate","_onInputChange","firedBy","parse","format","formatStrict","isValid","toDate","show","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","trigger","createElement","theme","keyboardInput","container","appendChild","body","insertBefore","nextSibling","defaultDate","setDefaultDate","defDate","gotoDate","defaults","disableWeekends","disableDayFn","nom","parseInt","minDate","maxDate","setMinDate","setMaxDate","fallback","getFullYear","_d","toDateString","preventOnSelect","isMoment","draw","min","max","onSelect","getDate","newCalendar","calendars","firstVisibleDate","lastVisibleDate","length","visibleDate","setMonth","getMonth","mainCalendar","adjustCalendars","sign","difference","newDay","valueOf","startRange","endRange","force","_y","_m","random","substr","render","innerHTML","type","focus","onDraw","ariaLabel","width","height","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","leftAligned","bottomAligned","style","position","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","reposition","now","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","r","events","dayNumber","monthNumber","yearNumber","dayConfig","unshift","adjustPosition","onOpen","v","onClose","removeChild","Pikaday","RivetDatepicker","settings","assign","picker"],"mappings":"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"}